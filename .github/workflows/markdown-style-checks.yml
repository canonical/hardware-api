name: Markdown style checks
permissions:
  contents: read
on:
  push:
    branches: [main]
    paths:
      - docs/**
      - .github/workflows/markdown-style-checks.yml
  pull_request:
    paths:
      - docs/**
      - .github/workflows/markdown-style-checks.yml
concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true
jobs:
  markdown-lint:
    name: Lint
    runs-on: ubuntu-24.04
    steps:
      - uses: actions/checkout@v6
        with:
          persist-credentials: false
          fetch-depth: 0
      - name: Create venv
        working-directory: "docs"
        run: make install
      - name: Lint markdown
        working-directory: "docs"
        run: make lint-md
